<aside class="" x-cloak="">
  <div class="flex items-center justify-center p-2 text-gray-500 capitalize">
    <ul class="w-56 px-2 border-y-4 root border-cyan-300">
      <!-- <li class="py-2 pl-0" x-data="{ isOpen: true }">
        <div class="flex items-center justify-between font-semibold border-b border-cyan-100">
          <a class="inline-flex items-center duration-300 hover:text-cyan-400"
             href=""
             hx-get="{% url 'category-products' 'all-products' %}"
             hx-target="#main-content"
             hx-push-url="true">all products
          </a>
        </div>
      </li> -->
      {% load mptt_tags %}
      {% recursetree categories %}
      <li class=" pl-{{ node.level }} pt-3" x-data="{ isOpen: true }">
        <div class="flex items-center justify-between border-b border-cyan-100">
          <a class="inline-flex items-center duration-300 hover:text-cyan-400"
             href="{{ node.get_absolute_url }}"
             hx-get="{{ node.get_absolute_url }}"
             hx-target="#main-content"
             hx-push-url="true">
            {{ node.name }}
          </a>
          {% if not node.is_leaf_node %}
            <span @click="isOpen = !isOpen" x-show="isOpen" class="cursor-pointer">
              <svg xmlns="http://www.w3.org/2000/svg"
                   fill="none"
                   viewBox="0 0 24 24"
                   stroke-width="1.5"
                   stroke="currentColor"
                   class="w-3">
                <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
              </svg>
            </span>
            <span @click="isOpen = !isOpen" x-show="!isOpen" class="cursor-pointer">
              <svg xmlns="http://www.w3.org/2000/svg"
                   fill="none"
                   viewBox="0 0 24 24"
                   stroke-width="1.5"
                   stroke="currentColor"
                   class="w-3">
                <path stroke-linecap="round" stroke-linejoin="round" d="M8.25 4.5l7.5 7.5-7.5 7.5" />
              </svg>
            </span>
          {% endif %}
        </div>
        <ul class="children" x-show.transition="isOpen">
          {{ children }}
        </ul>
      </li>
    {% endrecursetree %}
  </ul>
</div>
</aside>
